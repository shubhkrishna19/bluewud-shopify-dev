$((function(){$(".product-gallery").StickySidebar({additionalMarginTop:0})})),function(i){i.fn.StickySidebar=function(t){var o={containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:0,disableOnResponsiveLayouts:!0,sidebarBehavior:"modern"};function a(t,o){var a;e(t,o)||(console.log("TST: Body width smaller than options.minWidth. Init is delayed."),i(document).scroll(function(t,o){return function(a){var n;e(t,o)&&i(this).unbind(a)}}(t,o)),i(window).resize(function(t,o){return function(a){var n;e(t,o)&&i(this).unbind(a)}}(t,o)))}function e(t,o){return!0===t.initialized||!(i("body").width()<t.minWidth)&&(n(t,o),!0)}function n(t,o){t.initialized=!0,i("head").append(i('<style>.StickySidebar:after {content: ""; display: table; clear: both;}</style>')),o.each((function(){var o={};o.sidebar=i(this),o.options=t||{},o.container=i(o.options.containerSelector),0==o.container.length&&(o.container=o.sidebar.parent()),o.sidebar.parents().css("-webkit-transform","none"),o.sidebar.css({position:"relative",overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),o.stickySidebar=o.sidebar.find(".StickySidebar"),0==o.stickySidebar.length&&(o.sidebar.find("script").remove(),o.stickySidebar=i("<div>").addClass("StickySidebar").append(o.sidebar.children()),o.sidebar.append(o.stickySidebar)),o.marginTop=parseInt(o.sidebar.css("margin-top")),o.marginBottom=parseInt(o.sidebar.css("margin-bottom")),o.paddingTop=parseInt(o.sidebar.css("padding-top")),o.paddingBottom=parseInt(o.sidebar.css("padding-bottom"));var a=o.stickySidebar.offset().top;var e=o.stickySidebar.outerHeight();function n(){o.fixedScrollTop=0,o.sidebar.css({"min-height":"1px"}),o.stickySidebar.css({position:"static",width:""})}function r(t){var o=t.height();return t.children().each((function(){o=Math.max(o,i(this).height())})),o}o.stickySidebar.css("padding-top",1),o.stickySidebar.css("padding-bottom",1),a-=o.stickySidebar.offset().top,e=o.stickySidebar.outerHeight()-e-a,0==a?(o.stickySidebar.css("padding-top",60),o.stickySidebarPaddingTop=0):o.stickySidebarPaddingTop=1,0==e?(o.stickySidebar.css("padding-bottom",0),o.stickySidebarPaddingBottom=0):o.stickySidebarPaddingBottom=1,o.previousScrollTop=null,o.fixedScrollTop=0,n(),o.onScroll=function(o){if(o.stickySidebar.is(":visible")){if(i("body").width()<o.options.minWidth)return n(),void 0;var a;if(o.options.disableOnResponsiveLayouts)if(o.sidebar.outerWidth("none"==o.sidebar.css("float"))+50>o.container.width())return n(),void 0;var e=i(document).scrollTop();var d="static";if(e>=o.container.offset().top+(o.paddingTop+o.marginTop-o.options.additionalMarginTop)){var s=o.paddingTop+o.marginTop+t.additionalMarginTop;var c=o.paddingBottom+o.marginBottom+t.additionalMarginBottom;var p=o.container.offset().top;var b=o.container.offset().top+r(o.container);var l=0+t.additionalMarginTop;var g;var f;g=o.stickySidebar.outerHeight()+s+c<i(window).height()?l+o.stickySidebar.outerHeight():i(window).height()-o.marginBottom-o.paddingBottom-t.additionalMarginBottom;var h=p-e+o.paddingTop+o.marginTop;var S=b-e-o.paddingBottom-o.marginBottom;var u=o.stickySidebar.offset().top-e;var m=o.previousScrollTop-e;"fixed"==o.stickySidebar.css("position")&&"modern"==o.options.sidebarBehavior&&(u+=m),"stick-to-top"==o.options.sidebarBehavior&&(u=t.additionalMarginTop),"stick-to-bottom"==o.options.sidebarBehavior&&(u=g-o.stickySidebar.outerHeight()),u=m>0?Math.min(u,l):Math.max(u,g-o.stickySidebar.outerHeight()),u=Math.max(u,h),u=Math.min(u,S-o.stickySidebar.outerHeight());var y=o.container.height()==o.stickySidebar.outerHeight();d=(y||u!=l)&&(y||u!=g-o.stickySidebar.outerHeight())?e+u-o.sidebar.offset().top-o.paddingTop<=t.additionalMarginTop?"static":"absolute":"fixed"}if("fixed"==d)o.stickySidebar.css({position:"fixed",width:o.sidebar.width(),top:u,left:o.sidebar.offset().left+parseInt(o.sidebar.css("padding-left"))});else if("absolute"==d){var k={};"absolute"!=o.stickySidebar.css("position")&&(k.position="absolute",k.top=e+u-o.sidebar.offset().top-o.stickySidebarPaddingTop-o.stickySidebarPaddingBottom),k.width=o.sidebar.width(),k.left="",o.stickySidebar.css(k)}else"static"==d&&n();"static"!=d&&1==o.options.updateSidebarHeight&&o.sidebar.css({"min-height":o.stickySidebar.outerHeight()+o.stickySidebar.offset().top-o.sidebar.offset().top+o.paddingBottom}),o.previousScrollTop=e}},o.onScroll(o),i(document).scroll(function(i){return function(){i.onScroll(i)}}(o)),i(window).resize(function(i){return function(){i.stickySidebar.css({position:"static"}),i.onScroll(i)}}(o))}))}(t=i.extend(o,t)).additionalMarginTop=parseInt(t.additionalMarginTop)||0,t.additionalMarginBottom=parseInt(t.additionalMarginBottom)||0,a(t,this)}}(jQuery);

